import java.time.format.DateTimeFormatter

plugins {
    id "java-library"
}

version = "2.0.0"


repositories {
    mavenCentral()
}

compileJava {
    targetCompatibility "21"
    sourceCompatibility "21"
}

dependencies {
    compileOnly("net.portswigger.burp.extensions:montoya-api:2025.2")
}

jar {
    duplicatesStrategy = DuplicatesStrategy.EXCLUDE
    from { configurations.runtimeClasspath.collect { it.isDirectory() ? it : zipTree(it) } }
    new File("build-time.properties").text= "" +
                    "build.version=$version\n" +
                    "build.time=${DateTimeFormatter.ISO_LOCAL_DATE_TIME.format(LocalDateTime.now())}"
}